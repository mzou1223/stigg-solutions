"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Stigg = void 0;
const models_1 = require("./models");
const ModelMapper_1 = require("./utils/ModelMapper");
const configuration_1 = require("./configuration");
const loggerService_1 = require("./services/loggerService");
const identifiers_1 = require("./services/identifiers");
const apiErrorHandling_1 = require("./utils/apiErrorHandling");
const lodash_1 = require("lodash");
const initializationStateTracker_1 = require("./services/initializationStateTracker");
const clientInitialization_1 = require("./clientInitialization");
const mapGetEntitlementsFallback_1 = require("./utils/mapGetEntitlementsFallback");
let globalStiggInstance = null;
/**
 * Stigg Node.js SDK client
 */
class Stigg {
    constructor(config, entitlementsService, loggerService, managementApi, sdkConfigurationApi, eventEmitter) {
        this.config = config;
        this.entitlementsService = entitlementsService;
        this.loggerService = loggerService;
        this.managementApi = managementApi;
        this.sdkConfigurationApi = sdkConfigurationApi;
        this.eventEmitter = eventEmitter;
        this.modelMapper = new ModelMapper_1.ModelMapper();
        this.initializationStateTracker = new initializationStateTracker_1.InitializationStateTracker(this.eventEmitter);
        this.errorHandler = new apiErrorHandling_1.ApiErrorHandler(this.loggerService, this.eventEmitter);
    }
    async waitForInitialization() {
        return this.initializationStateTracker.getInitializationPromise().then(() => this);
    }
    /**
     * Add an event listener
     * @param eventName - The event to listen for ('entitlementsUpdated', 'usageUpdated', 'packagePublished', 'cacheHit', 'cacheMiss')
     * @param listener - The callback function to be called when the event occurs
     */
    addListener(eventName, listener) {
        this.eventEmitter.addListener(eventName, listener);
    }
    /**
     * Remove an event listener
     * @param eventName - The event to stop listening for
     * @param listener - The callback function to remove
     */
    removeListener(eventName, listener) {
        this.eventEmitter.off(eventName, listener);
    }
    /**
     * Initialize an instance of the Stigg SDK client.
     * @param {ClientConfiguration} configuration - client configuration object provided by the consumer.
     * @returns {Stigg} stigg SDK instance.
     */
    static initialize(configuration) {
        const sdkConfiguration = (0, configuration_1.getConfiguration)(configuration);
        const isPersistedCacheEnabled = !(0, lodash_1.isEmpty)(sdkConfiguration.redis);
        const loggerService = new loggerService_1.LoggerService(sdkConfiguration.logConfiguration.logger, sdkConfiguration.logConfiguration.logLevel);
        // The api key comparison is due to the demo running on lambda and uses different apiKey and should use different stiggInstance
        if (process.env.NODE_ENV !== 'test' &&
            globalStiggInstance &&
            globalStiggInstance.config.apiKey === sdkConfiguration.apiKey) {
            loggerService.error(`Stigg SDK cannot be initialized more than once, returning the old instance. 
      New configuration is ignored, please check your code or call .close() before initializing again.`);
            return globalStiggInstance;
        }
        const instanceId = (0, identifiers_1.generateRandomUUID)();
        loggerService.setInstanceId(instanceId);
        (0, configuration_1.validateConfiguration)(sdkConfiguration, loggerService);
        const stiggInstance = this.initializeStiggInstance(sdkConfiguration, loggerService, isPersistedCacheEnabled);
        if (sdkConfiguration.offline) {
            loggerService.log('Stigg SDK has been initialized in offline mode, only fallback entitlements are being used.');
        }
        stiggInstance
            .initializeSdk(sdkConfiguration)
            .then(() => stiggInstance === null || stiggInstance === void 0 ? void 0 : stiggInstance.initializationStateTracker.signalSuccessInit())
            .catch((err) => stiggInstance === null || stiggInstance === void 0 ? void 0 : stiggInstance.initializationStateTracker.signalFailedInit(err));
        if (!sdkConfiguration.offline && sdkConfiguration.realtimeUpdatesEnabled) {
            stiggInstance.entitlementsService.init();
        }
        globalStiggInstance = stiggInstance;
        return stiggInstance;
    }
    /**
     * Discards all network connections, background tasks, and other resources held by the client.
     *
     * Do not attempt to use the client after calling this method.
     */
    close() {
        this.entitlementsService.cleanup();
        globalStiggInstance = null;
    }
    static initializeStiggInstance(sdkConfiguration, loggerService, isPersistedCacheEnabled) {
        const { eventEmitter, entitlementsService, managementApi, sdkConfigurationApi } = (0, clientInitialization_1.intializeStiggDependencies)(isPersistedCacheEnabled, sdkConfiguration, loggerService);
        return new Stigg(sdkConfiguration, entitlementsService, loggerService, managementApi, sdkConfigurationApi, eventEmitter);
    }
    async initializeSdk({ enableRemoteConfig, offline }) {
        const promises = [this.entitlementsService.waitForInitialization()];
        if (enableRemoteConfig && !offline) {
            // Currently we don't use anything from the response, just checking if the SDK API key is valid.
            promises.push(this.sdkConfigurationApi.getSdkConfiguration());
        }
        return this.errorHandler.withErrorHandling(() => Promise.all(promises), {
            errorMessagePrefix: 'Failed to load sdk configuration',
            rethrowError: true,
            sdkConfiguration: this.config,
        });
    }
    /**
     * Get boolean entitlement of feature for a customer
     *
     * @param {string} customerId
     * @param {string} resourceId
     * @param {string} featureId
     * @param {BooleanEntitlementOptions} options
     * @return {BooleanEntitlement} boolean entitlement.
     */
    async getBooleanEntitlement({ customerId, featureId, resourceId, options, }) {
        var _a;
        const fallbackValue = (options === null || options === void 0 ? void 0 : options.fallback) || ((_a = this.config.entitlementsFallback) === null || _a === void 0 ? void 0 : _a[featureId]) || {};
        const fallbackEntitlement = Object.assign(Object.assign({}, models_1.BOOLEAN_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        if (this.config.offline) {
            return fallbackEntitlement;
        }
        const entitlement = await this.errorHandler.withErrorHandling(() => this.entitlementsService.getBooleanEntitlement(customerId, featureId, fallbackEntitlement, resourceId, options), {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, options },
            errorMessagePrefix: 'Failed to get boolean entitlement, using fallback entitlement',
            rethrowError: false,
        });
        return entitlement || fallbackEntitlement;
    }
    /**
     * Get numeric entitlement of feature for a customer
     * @param {string} customerId
     * @param {string} resourceId
     * @param {string} featureId
     * @param {NumericEntitlementOptions} options
     * @return {NumericEntitlement} numeric entitlement
     */
    async getNumericEntitlement({ customerId, featureId, resourceId, options, }) {
        var _a;
        const fallbackValue = (options === null || options === void 0 ? void 0 : options.fallback) || ((_a = this.config.entitlementsFallback) === null || _a === void 0 ? void 0 : _a[featureId]) || {};
        const fallbackEntitlement = Object.assign(Object.assign({}, models_1.NUMERIC_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        if (this.config.offline) {
            return fallbackEntitlement;
        }
        const entitlement = await this.errorHandler.withErrorHandling(() => this.entitlementsService.getNumericEntitlement(customerId, featureId, fallbackEntitlement, resourceId, options), {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, options },
            errorMessagePrefix: 'Failed to get numeric entitlement, using fallback entitlement',
            rethrowError: false,
        });
        return entitlement || fallbackEntitlement;
    }
    /**
     * Get metered entitlement of feature for a customer
     * @param {string} customerId
     * @param {string} resourceId
     * @param {string} featureId
     * @param {MeteredEntitlementOptions} options
     * @return {MeteredEntitlement} metered entitlement
     */
    async getMeteredEntitlement({ customerId, featureId, resourceId, options, }) {
        var _a;
        const fallbackValue = (options === null || options === void 0 ? void 0 : options.fallback) || ((_a = this.config.entitlementsFallback) === null || _a === void 0 ? void 0 : _a[featureId]) || {};
        const fallbackEntitlement = Object.assign(Object.assign({}, models_1.METERED_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        if (this.config.offline) {
            return fallbackEntitlement;
        }
        const entitlement = await this.errorHandler.withErrorHandling(() => this.entitlementsService.getMeteredEntitlement(customerId, featureId, fallbackEntitlement, resourceId, options), {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, options },
            errorMessagePrefix: 'Failed to get metered entitlement, using fallback entitlement',
            rethrowError: false,
        });
        return entitlement || fallbackEntitlement;
    }
    /**
     * Get enum entitlement of feature for a customer
     * @param {string} customerId
     * @param {string} resourceId
     * @param {string} featureId
     * @param {EnumEntitlementOptions} options
     * @return {EnumEntitlement} enum entitlement
     */
    async getEnumEntitlement({ customerId, featureId, resourceId, options, }) {
        var _a;
        const fallbackValue = (options === null || options === void 0 ? void 0 : options.fallback) || ((_a = this.config.entitlementsFallback) === null || _a === void 0 ? void 0 : _a[featureId]) || {};
        const fallbackEntitlement = Object.assign(Object.assign({}, models_1.ENUM_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        if (this.config.offline) {
            return fallbackEntitlement;
        }
        const entitlement = await this.errorHandler.withErrorHandling(() => this.entitlementsService.getEnumEntitlement(customerId, featureId, fallbackEntitlement, resourceId, options), {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, options },
            errorMessagePrefix: 'Failed to get enum entitlement, using fallback entitlement',
            rethrowError: false,
        });
        return entitlement || fallbackEntitlement;
    }
    /**
     * Get generic entitlement of feature for a customer
     * @param {string} customerId
     * @param {string} resourceId
     * @param {string} featureId
     * @param {EntitlementOptions} options
     * @return {Entitlement} generic entitlement
     */
    async getEntitlement({ customerId, featureId, resourceId, options }) {
        var _a;
        // Determine fallback based on options type or use boolean as default
        let fallbackEntitlement;
        const fallbackValue = (options === null || options === void 0 ? void 0 : options.fallback) || ((_a = this.config.entitlementsFallback) === null || _a === void 0 ? void 0 : _a[featureId]) || {};
        if (options && 'requestedUsage' in options) {
            fallbackEntitlement = Object.assign(Object.assign({}, models_1.METERED_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        }
        else if (options && 'requestedValues' in options) {
            fallbackEntitlement = Object.assign(Object.assign({}, models_1.ENUM_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        }
        else if (options && 'fallback' in options && options.fallback && 'value' in options.fallback) {
            fallbackEntitlement = Object.assign(Object.assign({}, models_1.NUMERIC_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        }
        else {
            fallbackEntitlement = Object.assign(Object.assign({}, models_1.BOOLEAN_DEFAULT_FALLBACK_ENTITLEMENT), fallbackValue);
        }
        if (this.config.offline) {
            return fallbackEntitlement;
        }
        const entitlement = await this.errorHandler.withErrorHandling(() => {
            var _a, _b;
            return this.entitlementsService.getEntitlement(customerId, featureId, fallbackEntitlement, resourceId, (_a = options) === null || _a === void 0 ? void 0 : _a.requestedUsage, (_b = options) === null || _b === void 0 ? void 0 : _b.requestedValues);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, options },
            errorMessagePrefix: 'Failed to get entitlement, using fallback entitlement',
            rethrowError: false,
        });
        return entitlement || fallbackEntitlement;
    }
    /**
     * Get entitlements per user
     * @param {string} customerId
     * @param {string} resourceId
     */
    async getEntitlements(customerId, resourceId) {
        if (this.config.offline) {
            return (0, mapGetEntitlementsFallback_1.mapGetEntitlementsFallback)(this.config.entitlementsFallback);
        }
        const entitlements = await this.errorHandler.withErrorHandling(() => {
            if (!customerId || typeof customerId !== 'string') {
                throw new Error('Invalid argument: customerId');
            }
            return this.entitlementsService.getCustomerEntitlements(customerId, resourceId);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get customer entitlements',
            rethrowError: false,
        });
        return entitlements || (0, mapGetEntitlementsFallback_1.mapGetEntitlementsFallback)(this.config.entitlementsFallback);
    }
    /**
     * Report usage event
     */
    async reportEvent(events) {
        if (this.config.offline) {
            return;
        }
        return this.errorHandler.withErrorHandling(async () => {
            const eventsArray = (0, lodash_1.isArray)(events) ? events : [events];
            await this.entitlementsService.reportEvent(eventsArray);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { events },
            errorMessagePrefix: 'Failed to report usage event',
            rethrowError: true,
        });
    }
    /**
     * Report usage for metered entitlement
     * @param customerId
     * @param resourceId
     * @param featureId
     * @param value - the reported usage value, can be either positive or negative value
     */
    async reportUsage({ customerId, resourceId, featureId, value, updateBehavior, createdAt, dimensions, }) {
        if (this.config.offline) {
            return {
                measurementId: (0, identifiers_1.generateRandomUUID)(),
                customerId,
                resourceId,
                featureId,
            };
        }
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.entitlementsService.reportUsage({
                featureId,
                customerId,
                resourceId,
                value,
                updateBehavior,
                createdAt,
                dimensions,
            });
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapReportUsageAck(data.reportUsage);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { featureId, value },
            errorMessagePrefix: 'Failed to report usage',
            rethrowError: true,
        });
    }
    /**
     * Report bulk of usages for metered entitlement
     * @param usages - array of usages to report
     */
    async reportUsageBulk({ usages }) {
        if (this.config.offline) {
            return usages.map(({ customerId, resourceId, featureId }) => ({
                measurementId: (0, identifiers_1.generateRandomUUID)(),
                customerId,
                resourceId,
                featureId,
            }));
        }
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.entitlementsService.reportUsageBulk({
                usages,
            });
            if (!data)
                throw new Error('Invalid response');
            return data.reportUsageBulk.map((item) => this.modelMapper.mapReportUsageAck(item));
        }, {
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to bulk report usage',
            rethrowError: true,
        });
    }
    async importCustomerBulk({ customers }) {
        return this.errorHandler.withErrorHandling(async () => {
            await this.managementApi.importCustomerBulk({
                customers: customers.map((customer) => (Object.assign(Object.assign({}, (0, lodash_1.omit)(customer, 'metadata')), { additionalMetaData: customer.metadata }))),
            });
        }, {
            errorMessagePrefix: 'Failed to import customers',
            rethrowError: true,
        });
    }
    /**
     * Import a Customer from billing integration. Private information such as email and name are not imported and needs
     * to be sent in order to be persisted in Stigg. Active billing integration is required for this functionality.
     * @return {Promise<Customer>} Newly created customer. Throw exception on errors.
     * @param billingId - the id of the customer in the billing system.
     * @param customerId - optional customer id, if not provided a random one will be generated.
     * @param email - optional customer email.
     * @param name - optional customer name.
     */
    async importCustomer({ billingId, customerId, email, name, metadata, }) {
        return this.errorHandler.withErrorHandling(async () => {
            const refId = customerId;
            const { data } = await this.managementApi.importCustomer({
                refId,
                email,
                name,
                billingId,
                additionalMetaData: metadata,
            });
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimCustomer(data.importCustomer);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { billingId, email, name },
            errorMessagePrefix: 'Failed to import customer',
            rethrowError: true,
        });
    }
    async importSubscriptionBulk({ subscriptions }) {
        await this.errorHandler.withErrorHandling(async () => {
            await this.managementApi.importSubscriptionBulk({
                subscriptions: subscriptions.map((subscription) => (Object.assign(Object.assign({}, (0, lodash_1.omit)(subscription, 'metadata')), { additionalMetaData: subscription.metadata }))),
            });
        }, {
            errorMessagePrefix: 'Failed to bulk import subscriptions',
            rethrowError: true,
        });
    }
    /**
     * Create a Customer and its first subscription
     * @return {Promise<Customer>} Newly created customer and subscription. Throw exception on errors.
     * @param customerId - optional customer id, if not provided a random one will be generated.
     * @param email - optional customer email
     * @param name - optional customer name
     * @param billingInfo - optional billing info
     * @param couponId - optional coupon
     * @param metadata - optional metadata
     * @param subscriptionParams - first subscription to create for the customer (pass null to skip subscription creation)
     * @param excludeFromExperiment - flag to exclude the customer from experiment (if there is one in progress)
     */
    async provisionCustomer({ customerId, email, name, billingInfo, metadata, couponId, subscriptionParams, excludeFromExperiment, billingId, salesforceId, }) {
        return this.errorHandler.withErrorHandling(async () => {
            const subscriptionParamsUpdated = subscriptionParams
                ? Object.assign(Object.assign({}, (0, lodash_1.omit)(subscriptionParams, 'unitQuantity', 'metadata')), { additionalMetaData: subscriptionParams.metadata, priceUnitAmount: subscriptionParams.unitQuantity }) : undefined;
            const refId = customerId;
            const { data } = await this.managementApi.provisionCustomer({
                refId,
                billingId,
                email,
                name,
                billingInformation: billingInfo,
                additionalMetaData: metadata,
                couponRefId: couponId,
                subscriptionParams: subscriptionParamsUpdated,
                excludeFromExperiment,
                salesforceId,
            });
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.setEntitlementsIfExists({
                entitlements: data.provisionCustomer.entitlements,
                customerId: data.provisionCustomer.customer.customerId,
                resourceId: subscriptionParams === null || subscriptionParams === void 0 ? void 0 : subscriptionParams.resourceId,
            });
            return this.modelMapper.mapProvisionedCustomer(data);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { email, name, billingInfo, metadata, couponId, subscriptionParams },
            errorMessagePrefix: 'Failed to provision customer',
            rethrowError: true,
        });
    }
    /**
     * Provision a Subscription.
     * @return {Promise<ProvisionSubscriptionResult>} Provision subscription result. Throw exception on errors.
     * @param provisionSubscription
     */
    async provisionSubscription(provisionSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.provisionSubscription(provisionSubscription);
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.setEntitlementsIfExists({
                entitlements: data.provisionSubscription.entitlements,
                customerId: provisionSubscription.customerId,
                resourceId: provisionSubscription.resourceId,
            });
            return this.modelMapper.mapProvisionedSubscriptionResult(data);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { provisionSubscription },
            errorMessagePrefix: 'Failed to provision subscription',
            rethrowError: true,
        });
    }
    /**
     * Fetch customer usage history of a feature.
     * @return {Promise<UsageHistoryPoint[]>} Array of usage history as data points.
     * @param fetchUsageHistory
     *
     * @deprecated use {@link getUsageHistoryV2} instead.
     */
    async fetchUsageHistory(fetchUsageHistory) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.fetchUsageHistory(fetchUsageHistory);
            if (!data || !data.usageHistory)
                throw new Error('Invalid response');
            return this.modelMapper.mapUsageHistory(data.usageHistory);
        }, {
            errorMessagePrefix: 'Failed to fetch usage history',
            rethrowError: false,
        });
    }
    /**
     * Get customer usage history of a feature.
     */
    async getUsageHistoryV2(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.getUsageHistoryV2(input);
            return data.usageHistoryV2;
        }, {
            errorMessagePrefix: 'Failed to get usage history',
            rethrowError: true,
        });
    }
    /**
     * Create a Customer.
     * @return {Promise<Customer>} Newly created customer. Throw exception on errors.
     * @param customerId - optional customer id, if not provided a random one will be generated.
     * @param email - optional customer email
     * @param name - optional customer name
     * @param billingInfo - optional billing info
     * @param couponId - optional coupon
     * @param metadata - optional metadata
     *
     * @deprecated use {@link provisionCustomer} instead to create both customer and subscription in single operation. See {@link provisionCustomer} for more info.
     */
    async createCustomer(input) {
        const response = await this.provisionCustomer(Object.assign(Object.assign({}, input), { subscriptionParams: null }));
        return response.customer;
    }
    /**
     * Update a Customer.
     * @return {Promise<Customer>} Updated customer. Throw exception on errors.
     * @param customerId - customer id
     * @param email - optional customer email
     * @param name - optional customer name
     * @param billingId - optional billing ID
     * @param billingInfo - optional billing info
     * @param metadata - optional metadata
     */
    async updateCustomer({ customerId, email, name, billingId, billingInfo, metadata, couponId, shouldWaitSync, salesforceId, }) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.updateCustomer({
                refId: customerId,
                email,
                name,
                couponRefId: couponId,
                billingId,
                billingInformation: billingInfo,
                additionalMetaData: metadata,
                shouldWaitSync,
                salesforceId,
            });
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimCustomer(data.updateCustomer);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorReportMetadata: { email, name, billingInfo, metadata, couponId },
            errorMessagePrefix: 'Failed to update customer',
            rethrowError: true,
        });
    }
    /**
     * Detach customer's payment method.
     * @return {Promise<Customer>} Updated customer. Throw exception on errors.
     * @param customerId - customer id
     * */
    async detachCustomerPaymentMethod(customerId) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.detachCustomerPaymentMethod(customerId);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimCustomer(data.detachCustomerPaymentMethod);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to detach customer payment method',
            rethrowError: true,
        });
    }
    /**
     * Get a Customer.
     * @return {Promise<FullCustomer>} Full customer details.
     * @param customerId - customer id
     */
    async getCustomer(customerId) {
        return this.errorHandler.withErrorHandling(async () => {
            if (!customerId || typeof customerId !== 'string') {
                throw new Error('Invalid argument: customerId');
            }
            const resp = await this.managementApi.getCustomer(customerId);
            const customer = resp.data.getCustomerByRefId;
            if (!customer) {
                throw new Error('Customer not found');
            }
            return this.modelMapper.mapFullCustomer(customer);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get customer',
            rethrowError: true,
        });
    }
    /**
     * Get Customer Statistics.
     * @return {Promise<CustomerStatisticsModel>} customer statistics.
     * @param customerId - customer id
     */
    async getCustomerStatistics(customerId) {
        return this.errorHandler.withErrorHandling(async () => {
            if (!customerId || typeof customerId !== 'string') {
                throw new Error('Invalid argument: customerId');
            }
            const resp = await this.managementApi.getCustomerStatistics(customerId);
            const customer = resp.data.getCustomerByRefId;
            if (!customer) {
                throw new Error('Customer not found');
            }
            return this.modelMapper.mapCustomerStatistics(customer);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get customer statistics',
            rethrowError: true,
        });
    }
    async archiveCustomer(customerId) {
        return this.errorHandler.withErrorHandling(async () => {
            var _a;
            if (!customerId) {
                throw new Error('Invalid argument: customerId');
            }
            const resp = await this.managementApi.archiveCustomer(customerId);
            const customer = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.archiveCustomer;
            if (!customer) {
                throw new Error('Customer not found');
            }
            return customer.customerId;
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to archive customer',
            rethrowError: true,
        });
    }
    async getCreditBalance(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const resp = await this.managementApi.getCreditBalance(input);
            return resp.data.creditBalanceSummary;
        }, {
            customerId: input.customerId,
            resourceId: input.resourceId || undefined,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get credit balance',
            rethrowError: true,
        });
    }
    async grantCredits(input) {
        return this.errorHandler.withErrorHandling(async () => {
            var _a;
            const resp = await this.managementApi.grantCredits(input);
            return (_a = resp.data) === null || _a === void 0 ? void 0 : _a.createCreditGrant;
        }, {
            customerId: input.customerId,
            resourceId: input.resourceId || undefined,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to grant credits',
            rethrowError: true,
        });
    }
    async getCreditGrants(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const resp = await this.managementApi.getCreditGrants(input);
            return resp.data.creditGrants;
        }, {
            customerId: input.customerId,
            resourceId: input.resourceId || undefined,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get credit grants',
            rethrowError: true,
        });
    }
    async unarchiveCustomer(customerId) {
        return this.errorHandler.withErrorHandling(async () => {
            var _a;
            if (!customerId) {
                throw new Error('Invalid argument: customerId');
            }
            const resp = await this.managementApi.unarchiveCustomer(customerId);
            const customer = (_a = resp.data) === null || _a === void 0 ? void 0 : _a.unarchiveCustomer;
            if (!customer) {
                throw new Error('Customer not found');
            }
            return this.modelMapper.mapSlimCustomer(customer);
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to unarchive customer',
            rethrowError: true,
        });
    }
    async getSubscriptions(params = {}) {
        const { customerId, resourceId, status, productId, pagination } = params;
        return this.errorHandler.withErrorHandling(async () => {
            const resp = await this.managementApi.getSubscriptions(customerId, resourceId, status, productId, pagination);
            const subscriptions = resp.data.subscriptions.edges.map((edge) => edge.node);
            return {
                data: subscriptions,
                pageInfo: resp.data.subscriptions.pageInfo,
            };
        }, {
            customerId,
            resourceId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get subscriptions',
            rethrowError: true,
        });
    }
    /**
     * Get customer's active subscriptions.
     * @return {Promise<FullSubscription[]>} List of active subscriptions.
     * @param customerId - customer id
     * @param resourceId - optional resource id, if not provided global resources will be fetched.
     */
    async getActiveSubscriptions({ customerId, resourceId }) {
        return this.errorHandler.withErrorHandling(async () => {
            if (!customerId || typeof customerId !== 'string') {
                throw new Error('Invalid argument: customerId');
            }
            const resp = await this.managementApi.getActiveSubscriptions(customerId, resourceId);
            const activeSubscriptions = resp.data.getActiveSubscriptions;
            if (!activeSubscriptions) {
                throw new Error('Customer not found');
            }
            return this.modelMapper.mapFullSubscriptions(activeSubscriptions);
        }, {
            customerId,
            resourceId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get active subscriptions',
            rethrowError: true,
        });
    }
    /**
     * @description Get customer's active subscriptions, for extended subscription data use {@link getSubscription}
     * @return {Promise<SlimSubscriptionFragmentV2Fragment[]>} List of active subscriptions
     * @param customerId - customer id
     * @param resourceId - optional resource id, if not provided global resources will be fetched.
     */
    async getActiveSubscriptionsList({ customerId, resourceId, }) {
        return this.errorHandler.withErrorHandling(async () => {
            const resp = await this.managementApi.getActiveSubscriptionsList(customerId, resourceId);
            return resp.data.getActiveSubscriptions;
        }, {
            customerId,
            resourceId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get active subscriptions list',
            rethrowError: true,
        });
    }
    /**
     * Get subscription
     * @return {Promise<FullSubscription>} the subscription data
     * @param subscriptionId - subscription id
     */
    async getSubscription({ subscriptionId }) {
        return this.errorHandler.withErrorHandling(async () => {
            const resp = await this.managementApi.getSubscription(subscriptionId);
            const subscription = resp.data.getSubscription;
            return this.modelMapper.mapFullSubscription(subscription);
        }, {
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to get subscription',
            rethrowError: true,
        });
    }
    /**
     * Create a Subscription
     * @return {Promise<Subscription>} Newly created subscription. Throw exception on errors.
     * @param {CreateSubscription} createSubscription
     * @deprecated use {@link provisionSubscription} instead to create subscription or checkout session according to customer and subscription payment requirements. See {@link provisionSubscription} for more info.
     */
    async createSubscription(createSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            const createSubscriptionInput = Object.assign(Object.assign({}, createSubscription), { startDate: createSubscription.startDate || new Date() });
            const { data } = await this.managementApi.createSubscription(createSubscriptionInput);
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.refetchEntitlements({
                customerId: createSubscription.customerId,
                resourceId: createSubscriptionInput.resourceId,
                skipEdge: true,
                triggeredBy: 'createSubscription',
            });
            return this.modelMapper.mapSlimSubscription(data.createSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { createSubscription },
            errorMessagePrefix: 'Failed to create subscription',
            rethrowError: true,
        });
    }
    /**
     * Update a Subscription
     * @return {Promise<Subscription>} updated subscription. Throw exception on errors.
     * @param {UpdateSubscription} updateSubscription
     */
    async updateSubscription(updateSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            var _a;
            const { data } = await this.managementApi.updateSubscription(updateSubscription);
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.refetchEntitlements({
                customerId: data.updateSubscription.customer.refId,
                resourceId: (_a = data.updateSubscription.resource) === null || _a === void 0 ? void 0 : _a.resourceId,
                skipEdge: true,
                triggeredBy: 'updateSubscription',
            });
            return this.modelMapper.mapSlimSubscription(data.updateSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { updateSubscription },
            errorMessagePrefix: 'Failed to update subscription',
            rethrowError: true,
        });
    }
    /**
     * Apply subscription changes for a customer
     * Update\Provision a subscription for a customer according to the given subscription input
     * @param {ApplySubscription} parameters
     * @returns {Promise<ApplySubscriptionResults>}
     */
    async applySubscription(applySubscriptionInput) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.applySubscription(applySubscriptionInput);
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.setEntitlementsIfExists({
                entitlements: data.applySubscription.entitlements,
                customerId: applySubscriptionInput.customerId,
                resourceId: applySubscriptionInput.resourceId,
            });
            return this.modelMapper.mapApplySubscriptionResults(data, applySubscriptionInput.customerId);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { applySubscriptionInput },
            errorMessagePrefix: 'Failed to apply subscription to customer',
            rethrowError: true,
        });
    }
    /**
     * Create a Subscription
     * @return {Promise<Subscription>} Canceled subscription. Throw exception on errors.
     * @param cancelSubscription
     */
    async cancelSubscription(cancelSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            var _a;
            const { data } = await this.managementApi.cancelSubscription(cancelSubscription);
            if (!data)
                throw new Error('Invalid response');
            await this.entitlementsService.refetchEntitlements({
                customerId: data.cancelSubscription.customer.refId,
                resourceId: (_a = data.cancelSubscription.resource) === null || _a === void 0 ? void 0 : _a.resourceId,
                skipEdge: true,
                triggeredBy: 'cancelSubscription',
            });
            return this.modelMapper.mapSlimSubscription(data.cancelSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { cancelSubscription },
            errorMessagePrefix: 'Failed to cancel subscription',
            rethrowError: true,
        });
    }
    /**
     * Get the paywall data
     *
     * @returns {Promise<Paywall>}
     */
    async getPaywall({ productId, customerId, resourceId, billingCountryCode, fetchAllCountriesPrices, includeHiddenPlans, } = {}) {
        const params = {
            productId,
            customerId,
            resourceId,
            billingCountryCode,
            fetchAllCountriesPrices,
            includeHiddenPlans,
        };
        return this.errorHandler.withErrorHandling(async () => {
            const graphResponse = await this.managementApi.getPaywall(params);
            return this.modelMapper.mapPaywall(graphResponse.data);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { productId },
            errorMessagePrefix: 'Failed to get paywall',
            rethrowError: true,
        });
    }
    /**
     * Get a list of coupons
     *
     * @returns {Promise<Coupon[]>}
     */
    async getCoupons() {
        return this.errorHandler.withErrorHandling(async () => {
            const graphResponse = await this.managementApi.getCoupons();
            return this.modelMapper.mapCoupons(graphResponse.data);
        }, { sdkConfiguration: this.config, errorMessagePrefix: 'Failed to get coupons', rethrowError: true });
    }
    /**
     * Get a list of products
     *
     * @returns {Promise<Product[]>}
     */
    async getProducts() {
        return this.errorHandler.withErrorHandling(async () => {
            const graphResponse = await this.managementApi.getProducts();
            return this.modelMapper.mapProducts(graphResponse.data);
        }, { sdkConfiguration: this.config, errorMessagePrefix: 'Failed to get products', rethrowError: true });
    }
    /**
     * Estimate subscription
     * @return {Promise<SubscriptionPreview>} Preview of the subscription.
     * @param {EstimateSubscription} estimateSubscription
     */
    async estimateSubscription(estimateSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.estimateSubscription(estimateSubscription);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSubscriptionPreview(data.estimateSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { estimateSubscription },
            errorMessagePrefix: 'Failed to estimate subscription',
            rethrowError: true,
        });
    }
    /**
     * Estimate subscription update
     * @return {Promise<SubscriptionPreview>} Preview of the subscription.
     * @param {EstimateSubscriptionUpdate} estimateSubscriptionUpdate
     */
    async estimateSubscriptionUpdate(estimateSubscriptionUpdate) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.estimateSubscriptionUpdate(estimateSubscriptionUpdate);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSubscriptionPreview(data.estimateSubscriptionUpdate);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { estimateSubscriptionUpdate },
            errorMessagePrefix: 'Failed to estimate subscription',
            rethrowError: true,
        });
    }
    /**
     * Preview subscription provisioning\updates
     * @return {Promise<SubscriptionPreviewV2>} Preview of the subscription.
     * @param {PreviewSubscription} previewSubscription
     */
    async previewSubscription(previewSubscription) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.previewSubscription(previewSubscription);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSubscriptionPreviewV2(data.previewSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { previewSubscription },
            errorMessagePrefix: 'Failed to preview subscription',
            rethrowError: true,
        });
    }
    /**
     * Preview the subscription next invoice
     * @return {Promise<SubscriptionInvoicePreviewFragment>} Preview of the next invoice.
     * @param {PreviewNextInvoice} previewNextInvoice
     */
    async previewNextInvoice(previewNextInvoice) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.previewNextInvoice(previewNextInvoice);
            if (!data)
                throw new Error('Invalid response');
            return data.previewNextInvoice;
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { previewNextInvoice },
            errorMessagePrefix: 'Failed to preview subscription next invoice',
            rethrowError: true,
        });
    }
    /**
     * Cancel a subscription scheduled updates
     * @return {Promise<string>} The subscription id
     * @param {CancelSubscriptionScheduledUpdates} cancelSubscriptionScheduledUpdates
     */
    async cancelSubscriptionScheduledUpdates(cancelSubscriptionScheduledUpdates) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.cancelSubscriptionScheduledUpdates(cancelSubscriptionScheduledUpdates);
            if (!data)
                throw new Error('Invalid response');
            return { subscriptionId: data.cancelSchedule };
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { cancelSubscriptionScheduledUpdates },
            errorMessagePrefix: 'Failed to cancel subscription scheduled updates',
            rethrowError: true,
        });
    }
    /**
     * Migrate subscription to latest plan and addons version and pricing.
     * using {@link SubscriptionMigrationTime.EndOfBillingPeriod} is possible only if Stripe integration is enabled and will
     * migrate the subscription in the end of the current billing period. Using Immediate will perform the migration
     * immediately. Default, migration will happen immediately.
     * @return {Promise<string>} The subscription id
     * @param {MigrateSubscriptionToLatest} migrateSubscriptionToLatest
     */
    async migrateSubscriptionToLatest(migrateSubscriptionToLatest) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.migrateSubscriptionToLatest(migrateSubscriptionToLatest);
            if (!data)
                throw new Error('Invalid response');
            return { subscriptionId: data.migrateSubscriptionToLatest.subscriptionId };
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { migrateSubscriptionToLatest },
            errorMessagePrefix: 'Failed to migrate subscription to latest',
            rethrowError: true,
        });
    }
    /**
     * @deprecated use {@link transferSubscriptionToResource} instead
     * Transfer paid subscription from sourceResourceId to destinationResourceId.
     * sourceResourceId must have a paid active subscription.
     * destinationResourceId must have a free active subscription.
     * @return {Promise<subscription>} The subscription connected to destinationResource.
     * @param {TransferSubscriptionInput} input
     */
    async transferSubscription(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.transferSubscription(input);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimSubscription(data.transferSubscription);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { input },
            errorMessagePrefix: 'Failed to transfer subscription',
            rethrowError: true,
        });
    }
    /**
     * Transfers a subscription to a different resource.
     * @return {Promise<subscription>} The subscription connected to destinationResource.
     * @param {TransferSubscriptionInput} input
     */
    async transferSubscriptionToResource(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.transferSubscriptionToResource(input);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimSubscription(data.transferSubscriptionToResource);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { input },
            errorMessagePrefix: 'Failed to transfer subscription',
            rethrowError: true,
        });
    }
    /**
     * Delegates a subscription to a different customer (the paying customer of the subscription will not change)
     * @return {Promise<subscription>} The subscription connected to destinationResource.
     * @param {DelegateSubscriptionToCustomerInput} input
     */
    async delegateSubscriptionToCustomer(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.delegateSubscriptionToCustomer(input);
            if (!data)
                throw new Error('Invalid response');
            return this.modelMapper.mapSlimSubscription(data.delegateSubscriptionToCustomer);
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { input },
            errorMessagePrefix: 'Failed to delegate subscription',
            rethrowError: true,
        });
    }
    grantPromotionalEntitlements(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.grantPromotionalEntitlements(input);
            if (!data)
                throw new Error('Invalid response');
            return data.grantPromotionalEntitlements;
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { input },
            errorMessagePrefix: 'Failed to grant promotional entitlements',
            rethrowError: true,
        });
    }
    revokePromotionalEntitlements(input) {
        return this.errorHandler.withErrorHandling(async () => {
            const { data } = await this.managementApi.revokePromotionalEntitlement(input);
            if (!data)
                throw new Error('Invalid response');
            return data.revokePromotionalEntitlement;
        }, {
            sdkConfiguration: this.config,
            errorReportMetadata: { input },
            errorMessagePrefix: 'Failed to revoke promotional entitlement',
            rethrowError: true,
        });
    }
    /**
     * Reload entitlements of a customer or customer resource.
     * Note: this method skips the Edge API, so use it only when you need "read-after-write" consistency after entitlements presumably have changed.
     * @param {string} customerId
     * @param {string} resourceId
     */
    async reloadEntitlements(customerId, resourceId) {
        if (this.config.offline) {
            return { entitledEntityExists: true };
        }
        const response = await this.errorHandler.withErrorHandling(() => {
            if (!customerId || typeof customerId !== 'string') {
                throw new Error('Invalid argument: customerId');
            }
            return this.entitlementsService.refetchEntitlements({
                customerId,
                resourceId,
                skipEdge: true,
                triggeredBy: 'reloadEntitlements',
            });
        }, {
            customerId,
            sdkConfiguration: this.config,
            errorMessagePrefix: 'Failed to reload customer entitlements',
            rethrowError: false,
        });
        return { entitledEntityExists: !!(response === null || response === void 0 ? void 0 : response.customerExists) };
    }
}
exports.Stigg = Stigg;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxxQ0EyRGtCO0FBQ2xCLHFEQUFrRDtBQUdsRCxtREFBK0Y7QUFDL0YsNERBQXlEO0FBQ3pELHdEQUE0RDtBQUM1RCwrREFBMkQ7QUFFM0QsbUNBQWdEO0FBbUJoRCxzRkFBbUY7QUFFbkYsaUVBQW9FO0FBQ3BFLG1GQUFnRjtBQStFaEYsSUFBSSxtQkFBbUIsR0FBaUIsSUFBSSxDQUFDO0FBRTdDOztHQUVHO0FBQ0gsTUFBYSxLQUFLO0lBS2hCLFlBQ21CLE1BQXFDLEVBQ3JDLG1CQUF3QyxFQUN4QyxhQUE0QixFQUM1QixhQUE0QixFQUM1QixtQkFBd0MsRUFDeEMsWUFBK0I7UUFML0IsV0FBTSxHQUFOLE1BQU0sQ0FBK0I7UUFDckMsd0JBQW1CLEdBQW5CLG1CQUFtQixDQUFxQjtRQUN4QyxrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQUM1QixrQkFBYSxHQUFiLGFBQWEsQ0FBZTtRQUM1Qix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO1FBQ3hDLGlCQUFZLEdBQVosWUFBWSxDQUFtQjtRQUVoRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUkseUJBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLHVEQUEwQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNwRixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksa0NBQWUsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsS0FBSyxDQUFDLHFCQUFxQjtRQUN6QixPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyRixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFdBQVcsQ0FBdUIsU0FBWSxFQUFFLFFBQW1CO1FBQ2pFLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILGNBQWMsQ0FBdUIsU0FBWSxFQUFFLFFBQW1CO1FBQ3BFLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBa0M7UUFDbEQsTUFBTSxnQkFBZ0IsR0FBRyxJQUFBLGdDQUFnQixFQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sdUJBQXVCLEdBQUcsQ0FBQyxJQUFBLGdCQUFPLEVBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakUsTUFBTSxhQUFhLEdBQUcsSUFBSSw2QkFBYSxDQUNyQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQ3hDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FDM0MsQ0FBQztRQUVGLCtIQUErSDtRQUMvSCxJQUNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU07WUFDL0IsbUJBQW1CO1lBQ25CLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssZ0JBQWdCLENBQUMsTUFBTSxFQUM3RDtZQUNBLGFBQWEsQ0FBQyxLQUFLLENBQUM7dUdBQzZFLENBQUMsQ0FBQztZQUNuRyxPQUFPLG1CQUFtQixDQUFDO1NBQzVCO1FBRUQsTUFBTSxVQUFVLEdBQUcsSUFBQSxnQ0FBa0IsR0FBRSxDQUFDO1FBQ3hDLGFBQWEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFeEMsSUFBQSxxQ0FBcUIsRUFBQyxnQkFBZ0IsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUV2RCxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsZ0JBQWdCLEVBQUUsYUFBYSxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFFN0csSUFBSSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUU7WUFDNUIsYUFBYSxDQUFDLEdBQUcsQ0FBQyw0RkFBNEYsQ0FBQyxDQUFDO1NBQ2pIO1FBRUQsYUFBYTthQUNWLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQzthQUMvQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsYUFBYSxhQUFiLGFBQWEsdUJBQWIsYUFBYSxDQUFFLDBCQUEwQixDQUFDLGlCQUFpQixFQUFFLENBQUM7YUFDekUsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsMEJBQTBCLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVuRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxJQUFJLGdCQUFnQixDQUFDLHNCQUFzQixFQUFFO1lBQ3hFLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUMxQztRQUVELG1CQUFtQixHQUFHLGFBQWEsQ0FBQztRQUVwQyxPQUFPLGFBQWEsQ0FBQztJQUN2QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUs7UUFDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO0lBQzdCLENBQUM7SUFFTyxNQUFNLENBQUMsdUJBQXVCLENBQ3BDLGdCQUErQyxFQUMvQyxhQUE0QixFQUM1Qix1QkFBZ0M7UUFFaEMsTUFBTSxFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxhQUFhLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxJQUFBLGlEQUEwQixFQUMxRyx1QkFBdUIsRUFDdkIsZ0JBQWdCLEVBQ2hCLGFBQWEsQ0FDZCxDQUFDO1FBRUYsT0FBTyxJQUFJLEtBQUssQ0FDZCxnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLGFBQWEsRUFDYixhQUFhLEVBQ2IsbUJBQW1CLEVBQ25CLFlBQVksQ0FDYixDQUFDO0lBQ0osQ0FBQztJQUVPLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQXVEO1FBQzlHLE1BQU0sUUFBUSxHQUFtQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUM7UUFFcEYsSUFBSSxrQkFBa0IsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNsQyxnR0FBZ0c7WUFDaEcsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxDQUFDO1NBQy9EO1FBRUQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDdEUsa0JBQWtCLEVBQUUsa0NBQWtDO1lBQ3RELFlBQVksRUFBRSxJQUFJO1lBQ2xCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1NBQzlCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNILEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxFQUMxQixVQUFVLEVBQ1YsU0FBUyxFQUNULFVBQVUsRUFDVixPQUFPLEdBQ2U7O1FBQ3RCLE1BQU0sYUFBYSxHQUFHLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFFBQVEsTUFBSSxNQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLDBDQUFHLFNBQVMsQ0FBQyxDQUFBLElBQUksRUFBRSxDQUFDO1FBQy9GLE1BQU0sbUJBQW1CLG1DQUNwQiw2Q0FBb0MsR0FDcEMsYUFBYSxDQUNqQixDQUFDO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN2QixPQUFPLG1CQUFtQixDQUFDO1NBQzVCO1FBRUQsTUFBTSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUMzRCxHQUFHLEVBQUUsQ0FDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMscUJBQXFCLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLEVBQ2pIO1lBQ0UsVUFBVTtZQUNWLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtZQUMzQyxrQkFBa0IsRUFBRSwrREFBK0Q7WUFDbkYsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO1FBRUYsT0FBTyxXQUFXLElBQUksbUJBQW1CLENBQUM7SUFDNUMsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSCxLQUFLLENBQUMscUJBQXFCLENBQUMsRUFDMUIsVUFBVSxFQUNWLFNBQVMsRUFDVCxVQUFVLEVBQ1YsT0FBTyxHQUNlOztRQUN0QixNQUFNLGFBQWEsR0FBRyxDQUFBLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxRQUFRLE1BQUksTUFBQSxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQiwwQ0FBRyxTQUFTLENBQUMsQ0FBQSxJQUFJLEVBQUUsQ0FBQztRQUMvRixNQUFNLG1CQUFtQixtQ0FDcEIsNkNBQW9DLEdBQ3BDLGFBQWEsQ0FDakIsQ0FBQztRQUNGLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDdkIsT0FBTyxtQkFBbUIsQ0FBQztTQUM1QjtRQUVELE1BQU0sV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDM0QsR0FBRyxFQUFFLENBQ0gsSUFBSSxDQUFDLG1CQUFtQixDQUFDLHFCQUFxQixDQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUUsbUJBQW1CLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxFQUNqSDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUU7WUFDM0Msa0JBQWtCLEVBQUUsK0RBQStEO1lBQ25GLFlBQVksRUFBRSxLQUFLO1NBQ3BCLENBQ0YsQ0FBQztRQUVGLE9BQU8sV0FBVyxJQUFJLG1CQUFtQixDQUFDO0lBQzVDLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0gsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEVBQzFCLFVBQVUsRUFDVixTQUFTLEVBQ1QsVUFBVSxFQUNWLE9BQU8sR0FDZTs7UUFDdEIsTUFBTSxhQUFhLEdBQUcsQ0FBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsUUFBUSxNQUFJLE1BQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsMENBQUcsU0FBUyxDQUFDLENBQUEsSUFBSSxFQUFFLENBQUM7UUFDL0YsTUFBTSxtQkFBbUIsbUNBQ3BCLDZDQUFvQyxHQUNwQyxhQUFhLENBQ2pCLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3ZCLE9BQU8sbUJBQW1CLENBQUM7U0FDNUI7UUFFRCxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQzNELEdBQUcsRUFBRSxDQUNILElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLG1CQUFtQixFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsRUFDakg7WUFDRSxVQUFVO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO1lBQzNDLGtCQUFrQixFQUFFLCtEQUErRDtZQUNuRixZQUFZLEVBQUUsS0FBSztTQUNwQixDQUNGLENBQUM7UUFFRixPQUFPLFdBQVcsSUFBSSxtQkFBbUIsQ0FBQztJQUM1QyxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNILEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxFQUN2QixVQUFVLEVBQ1YsU0FBUyxFQUNULFVBQVUsRUFDVixPQUFPLEdBQ1k7O1FBQ25CLE1BQU0sYUFBYSxHQUFHLENBQUEsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFFBQVEsTUFBSSxNQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLDBDQUFHLFNBQVMsQ0FBQyxDQUFBLElBQUksRUFBRSxDQUFDO1FBQy9GLE1BQU0sbUJBQW1CLG1DQUNwQiwwQ0FBaUMsR0FDakMsYUFBYSxDQUNqQixDQUFDO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN2QixPQUFPLG1CQUFtQixDQUFDO1NBQzVCO1FBRUQsTUFBTSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUMzRCxHQUFHLEVBQUUsQ0FDSCxJQUFJLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLEVBQzlHO1lBQ0UsVUFBVTtZQUNWLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtZQUMzQyxrQkFBa0IsRUFBRSw0REFBNEQ7WUFDaEYsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO1FBRUYsT0FBTyxXQUFXLElBQUksbUJBQW1CLENBQUM7SUFDNUMsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSCxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFrQjs7UUFDakYscUVBQXFFO1FBQ3JFLElBQUksbUJBQWdDLENBQUM7UUFDckMsTUFBTSxhQUFhLEdBQUcsQ0FBQSxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsUUFBUSxNQUFJLE1BQUEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsMENBQUcsU0FBUyxDQUFDLENBQUEsSUFBSSxFQUFFLENBQUM7UUFFL0YsSUFBSSxPQUFPLElBQUksZ0JBQWdCLElBQUksT0FBTyxFQUFFO1lBQzFDLG1CQUFtQixtQ0FBUSw2Q0FBb0MsR0FBSyxhQUFhLENBQUUsQ0FBQztTQUNyRjthQUFNLElBQUksT0FBTyxJQUFJLGlCQUFpQixJQUFJLE9BQU8sRUFBRTtZQUNsRCxtQkFBbUIsbUNBQVEsMENBQWlDLEdBQUssYUFBYSxDQUFFLENBQUM7U0FDbEY7YUFBTSxJQUFJLE9BQU8sSUFBSSxVQUFVLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7WUFDOUYsbUJBQW1CLG1DQUFRLDZDQUFvQyxHQUFLLGFBQWEsQ0FBRSxDQUFDO1NBQ3JGO2FBQU07WUFDTCxtQkFBbUIsbUNBQVEsNkNBQW9DLEdBQUssYUFBYSxDQUFFLENBQUM7U0FDckY7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3ZCLE9BQU8sbUJBQW1CLENBQUM7U0FDNUI7UUFFRCxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQzNELEdBQUcsRUFBRTs7WUFDSCxPQUFBLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLENBQ3JDLFVBQVUsRUFDVixTQUFTLEVBQ1QsbUJBQW1CLEVBQ25CLFVBQVUsRUFDVixNQUFDLE9BQXFDLDBDQUFFLGNBQWMsRUFDdEQsTUFBQyxPQUFrQywwQ0FBRSxlQUFlLENBQ3JELENBQUE7U0FBQSxFQUNIO1lBQ0UsVUFBVTtZQUNWLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtZQUMzQyxrQkFBa0IsRUFBRSx1REFBdUQ7WUFDM0UsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO1FBRUYsT0FBTyxXQUFXLElBQUksbUJBQW1CLENBQUM7SUFDNUMsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxLQUFLLENBQUMsZUFBZSxDQUFDLFVBQWtCLEVBQUUsVUFBbUI7UUFDM0QsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtZQUN2QixPQUFPLElBQUEsdURBQTBCLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ3JFO1FBRUQsTUFBTSxZQUFZLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUM1RCxHQUFHLEVBQUU7WUFDSCxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsdUJBQXVCLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2xGLENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixrQkFBa0IsRUFBRSxxQ0FBcUM7WUFDekQsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO1FBQ0YsT0FBTyxZQUFZLElBQUksSUFBQSx1REFBMEIsRUFBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUVEOztPQUVHO0lBQ0gsS0FBSyxDQUFDLFdBQVcsQ0FBQyxNQUFtQztRQUNuRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3ZCLE9BQU87U0FDUjtRQUVELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLFdBQVcsR0FBRyxJQUFBLGdCQUFPLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4RCxNQUFNLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxNQUFNLEVBQUU7WUFDL0Isa0JBQWtCLEVBQUUsOEJBQThCO1lBQ2xELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSCxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQ2hCLFVBQVUsRUFDVixVQUFVLEVBQ1YsU0FBUyxFQUNULEtBQUssRUFDTCxjQUFjLEVBQ2QsU0FBUyxFQUNULFVBQVUsR0FDRTtRQUNaLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDdkIsT0FBTztnQkFDTCxhQUFhLEVBQUUsSUFBQSxnQ0FBa0IsR0FBRTtnQkFDbkMsVUFBVTtnQkFDVixVQUFVO2dCQUNWLFNBQVM7YUFDVixDQUFDO1NBQ0g7UUFFRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQztnQkFDMUQsU0FBUztnQkFDVCxVQUFVO2dCQUNWLFVBQVU7Z0JBQ1YsS0FBSztnQkFDTCxjQUFjO2dCQUNkLFNBQVM7Z0JBQ1QsVUFBVTthQUNYLENBQUMsQ0FBQztZQUVILElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzlELENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7WUFDekMsa0JBQWtCLEVBQUUsd0JBQXdCO1lBQzVDLFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7O09BR0c7SUFDSCxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsTUFBTSxFQUFtQjtRQUMvQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQ3ZCLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDNUQsYUFBYSxFQUFFLElBQUEsZ0NBQWtCLEdBQUU7Z0JBQ25DLFVBQVU7Z0JBQ1YsVUFBVTtnQkFDVixTQUFTO2FBQ1YsQ0FBQyxDQUFDLENBQUM7U0FDTDtRQUVELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsbUJBQW1CLENBQUMsZUFBZSxDQUFDO2dCQUM5RCxNQUFNO2FBQ1AsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN0RixDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixrQkFBa0IsRUFBRSw2QkFBNkI7WUFDakQsWUFBWSxFQUFFLElBQUk7U0FDbkIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVELEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLFNBQVMsRUFBc0I7UUFDeEQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTtZQUNULE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDMUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLGlDQUNsQyxJQUFBLGFBQUksRUFBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLEtBQzdCLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyxRQUFRLElBQ3JDLENBQUM7YUFDSixDQUFDLENBQUM7UUFDTCxDQUFDLEVBQ0Q7WUFDRSxrQkFBa0IsRUFBRSw0QkFBNEI7WUFDaEQsWUFBWSxFQUFFLElBQUk7U0FDbkIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOzs7Ozs7OztPQVFHO0lBQ0gsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUNuQixTQUFTLEVBQ1QsVUFBVSxFQUNWLEtBQUssRUFDTCxJQUFJLEVBQ0osUUFBUSxHQUMwQjtRQUNsQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDO1lBQ3pCLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDO2dCQUN2RCxLQUFLO2dCQUNMLEtBQUs7Z0JBQ0wsSUFBSTtnQkFDSixTQUFTO2dCQUNULGtCQUFrQixFQUFFLFFBQVE7YUFDN0IsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9ELENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO1lBQy9DLGtCQUFrQixFQUFFLDJCQUEyQjtZQUMvQyxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQsS0FBSyxDQUFDLHNCQUFzQixDQUFDLEVBQUUsYUFBYSxFQUEwQjtRQUNwRSxNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3ZDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLHNCQUFzQixDQUFDO2dCQUM5QyxhQUFhLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsaUNBQzlDLElBQUEsYUFBSSxFQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsS0FDakMsa0JBQWtCLEVBQUUsWUFBWSxDQUFDLFFBQVEsSUFDekMsQ0FBQzthQUNKLENBQUMsQ0FBQztRQUNMLENBQUMsRUFDRDtZQUNFLGtCQUFrQixFQUFFLHFDQUFxQztZQUN6RCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7O09BV0c7SUFDSCxLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFDdEIsVUFBVSxFQUNWLEtBQUssRUFDTCxJQUFJLEVBQ0osV0FBVyxFQUNYLFFBQVEsRUFDUixRQUFRLEVBQ1Isa0JBQWtCLEVBQ2xCLHFCQUFxQixFQUNyQixTQUFTLEVBQ1QsWUFBWSxHQUNNO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLHlCQUF5QixHQUFtRCxrQkFBa0I7Z0JBQ2xHLENBQUMsaUNBQ00sSUFBQSxhQUFJLEVBQUMsa0JBQWtCLEVBQUUsY0FBYyxFQUFFLFVBQVUsQ0FBQyxLQUN2RCxrQkFBa0IsRUFBRSxrQkFBa0IsQ0FBQyxRQUFRLEVBQy9DLGVBQWUsRUFBRSxrQkFBa0IsQ0FBQyxZQUFZLElBRXBELENBQUMsQ0FBQyxTQUFTLENBQUM7WUFFZCxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUM7WUFDekIsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztnQkFDMUQsS0FBSztnQkFDTCxTQUFTO2dCQUNULEtBQUs7Z0JBQ0wsSUFBSTtnQkFDSixrQkFBa0IsRUFBRSxXQUFXO2dCQUMvQixrQkFBa0IsRUFBRSxRQUFRO2dCQUM1QixXQUFXLEVBQUUsUUFBUTtnQkFDckIsa0JBQWtCLEVBQUUseUJBQXlCO2dCQUM3QyxxQkFBcUI7Z0JBQ3JCLFlBQVk7YUFDYixDQUFDLENBQUM7WUFFSCxJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFL0MsTUFBTSxJQUFJLENBQUMsbUJBQW1CLENBQUMsdUJBQXVCLENBQUM7Z0JBQ3JELFlBQVksRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWTtnQkFDakQsVUFBVSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsVUFBVTtnQkFDdEQsVUFBVSxFQUFFLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFVBQVU7YUFDM0MsQ0FBQyxDQUFDO1lBRUgsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZELENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsa0JBQWtCLEVBQUU7WUFDekYsa0JBQWtCLEVBQUUsOEJBQThCO1lBQ2xELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLHFCQUFxQixDQUFDLHFCQUE0QztRQUN0RSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBRXZGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxNQUFNLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyx1QkFBdUIsQ0FBQztnQkFDckQsWUFBWSxFQUFFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZO2dCQUNyRCxVQUFVLEVBQUUscUJBQXFCLENBQUMsVUFBVTtnQkFDNUMsVUFBVSxFQUFFLHFCQUFxQixDQUFDLFVBQVU7YUFDN0MsQ0FBQyxDQUFDO1lBRUgsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGdDQUFnQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pFLENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUscUJBQXFCLEVBQUU7WUFDOUMsa0JBQWtCLEVBQUUsa0NBQWtDO1lBQ3RELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSCxLQUFLLENBQUMsaUJBQWlCLENBQUMsaUJBQW9DO1FBQzFELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDL0UsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNyRSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM3RCxDQUFDLEVBQ0Q7WUFDRSxrQkFBa0IsRUFBRSwrQkFBK0I7WUFDbkQsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0gsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEtBQTBCO1FBQ2hELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25FLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUM3QixDQUFDLEVBQ0Q7WUFDRSxrQkFBa0IsRUFBRSw2QkFBNkI7WUFDakQsWUFBWSxFQUFFLElBQUk7U0FDbkIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOzs7Ozs7Ozs7OztPQVdHO0lBQ0gsS0FBSyxDQUFDLGNBQWMsQ0FBQyxLQUFxQjtRQUN4QyxNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyxpQkFBaUIsaUNBQ3hDLEtBQUssS0FDUixrQkFBa0IsRUFBRSxJQUFJLElBQ3hCLENBQUM7UUFFSCxPQUFPLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNILEtBQUssQ0FBQyxjQUFjLENBQUMsRUFDbkIsVUFBVSxFQUNWLEtBQUssRUFDTCxJQUFJLEVBQ0osU0FBUyxFQUNULFdBQVcsRUFDWCxRQUFRLEVBQ1IsUUFBUSxFQUNSLGNBQWMsRUFDZCxZQUFZLEdBQ0c7UUFDZixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUM7Z0JBQ3ZELEtBQUssRUFBRSxVQUFVO2dCQUNqQixLQUFLO2dCQUNMLElBQUk7Z0JBQ0osV0FBVyxFQUFFLFFBQVE7Z0JBQ3JCLFNBQVM7Z0JBQ1Qsa0JBQWtCLEVBQUUsV0FBVztnQkFDL0Isa0JBQWtCLEVBQUUsUUFBUTtnQkFDNUIsY0FBYztnQkFDZCxZQUFZO2FBQ2IsQ0FBQyxDQUFDO1lBRUgsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9ELENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUU7WUFDckUsa0JBQWtCLEVBQUUsMkJBQTJCO1lBQy9DLFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztTQUlLO0lBQ0wsS0FBSyxDQUFDLDJCQUEyQixDQUFDLFVBQWtCO1FBQ2xELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDJCQUEyQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRWxGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQzVFLENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixrQkFBa0IsRUFBRSwwQ0FBMEM7WUFDOUQsWUFBWSxFQUFFLElBQUk7U0FDbkIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxLQUFLLENBQUMsV0FBVyxDQUFDLFVBQWtCO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM5RCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1lBQzlDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2FBQ3ZDO1lBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxDQUFDLEVBQ0Q7WUFDRSxVQUFVO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsd0JBQXdCO1lBQzVDLFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLHFCQUFxQixDQUFDLFVBQWtCO1FBQzVDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3hFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7WUFDOUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDYixNQUFNLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7YUFDdkM7WUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUQsQ0FBQyxFQUNEO1lBQ0UsVUFBVTtZQUNWLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLGtCQUFrQixFQUFFLG1DQUFtQztZQUN2RCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQsS0FBSyxDQUFDLGVBQWUsQ0FBQyxVQUFrQjtRQUN0QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFOztZQUNULElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNsRSxNQUFNLFFBQVEsR0FBRyxNQUFBLElBQUksQ0FBQyxJQUFJLDBDQUFFLGVBQWUsQ0FBQztZQUM1QyxJQUFJLENBQUMsUUFBUSxFQUFFO2dCQUNiLE1BQU0sSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQzthQUN2QztZQUNELE9BQU8sUUFBUSxDQUFDLFVBQVUsQ0FBQztRQUM3QixDQUFDLEVBQ0Q7WUFDRSxVQUFVO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsNEJBQTRCO1lBQ2hELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLLENBQUMsZ0JBQWdCLENBQUMsS0FBZ0M7UUFDckQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTtZQUNULE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5RCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7UUFDeEMsQ0FBQyxFQUNEO1lBQ0UsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxJQUFJLFNBQVM7WUFDekMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsOEJBQThCO1lBQ2xELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQXVCO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7O1lBQ1QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxRCxPQUFPLE1BQUEsSUFBSSxDQUFDLElBQUksMENBQUUsaUJBQWlCLENBQUM7UUFDdEMsQ0FBQyxFQUNEO1lBQ0UsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxJQUFJLFNBQVM7WUFDekMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUseUJBQXlCO1lBQzdDLFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLLENBQUMsZUFBZSxDQUFDLEtBQTJCO1FBQy9DLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzdELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDaEMsQ0FBQyxFQUNEO1lBQ0UsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO1lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxJQUFJLFNBQVM7WUFDekMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsNkJBQTZCO1lBQ2pELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLLENBQUMsaUJBQWlCLENBQUMsVUFBa0I7UUFDeEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTs7WUFDVCxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQzthQUNqRDtZQUNELE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNwRSxNQUFNLFFBQVEsR0FBRyxNQUFBLElBQUksQ0FBQyxJQUFJLDBDQUFFLGlCQUFpQixDQUFDO1lBQzlDLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2FBQ3ZDO1lBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRCxDQUFDLEVBQ0Q7WUFDRSxVQUFVO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsOEJBQThCO1lBQ2xELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxLQUFLLENBQUMsZ0JBQWdCLENBQUMsU0FBaUMsRUFBRTtRQUN4RCxNQUFNLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxHQUFHLE1BQU0sQ0FBQztRQUN6RSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUM5RyxNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0UsT0FBTztnQkFDTCxJQUFJLEVBQUUsYUFBYTtnQkFDbkIsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVE7YUFDM0MsQ0FBQztRQUNKLENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixVQUFVO1lBQ1YsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsNkJBQTZCO1lBQ2pELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQTBCO1FBQzdFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNyRixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7WUFDN0QsSUFBSSxDQUFDLG1CQUFtQixFQUFFO2dCQUN4QixNQUFNLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7YUFDdkM7WUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNwRSxDQUFDLEVBQ0Q7WUFDRSxVQUFVO1lBQ1YsVUFBVTtZQUNWLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLGtCQUFrQixFQUFFLG9DQUFvQztZQUN4RCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxLQUFLLENBQUMsMEJBQTBCLENBQUMsRUFDL0IsVUFBVSxFQUNWLFVBQVUsR0FDYTtRQUN2QixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUN6RixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUM7UUFDMUMsQ0FBQyxFQUNEO1lBQ0UsVUFBVTtZQUNWLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixrQkFBa0IsRUFBRSx5Q0FBeUM7WUFDN0QsWUFBWSxFQUFFLElBQUk7U0FDbkIsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUUsY0FBYyxFQUFtQjtRQUN2RCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUN0RSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDNUQsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0Isa0JBQWtCLEVBQUUsNEJBQTRCO1lBQ2hELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBc0M7UUFDN0QsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTtZQUNULE1BQU0sdUJBQXVCLG1DQUN4QixrQkFBa0IsS0FDckIsU0FBUyxFQUFFLGtCQUFrQixDQUFDLFNBQVMsSUFBSSxJQUFJLElBQUksRUFBRSxHQUN0RCxDQUFDO1lBRUYsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1lBRXRGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxNQUFNLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDakQsVUFBVSxFQUFFLGtCQUFrQixDQUFDLFVBQVU7Z0JBQ3pDLFVBQVUsRUFBRSx1QkFBdUIsQ0FBQyxVQUFVO2dCQUM5QyxRQUFRLEVBQUUsSUFBSTtnQkFDZCxXQUFXLEVBQUUsb0JBQW9CO2FBQ2xDLENBQUMsQ0FBQztZQUVILE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUN2RSxDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLGtCQUFrQixFQUFFO1lBQzNDLGtCQUFrQixFQUFFLCtCQUErQjtZQUNuRCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBc0M7UUFDN0QsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTs7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFakYsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixDQUFDLG1CQUFtQixDQUFDO2dCQUNqRCxVQUFVLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxLQUFLO2dCQUNsRCxVQUFVLEVBQUUsTUFBQSxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSwwQ0FBRSxVQUFVO2dCQUN4RCxRQUFRLEVBQUUsSUFBSTtnQkFDZCxXQUFXLEVBQUUsb0JBQW9CO2FBQ2xDLENBQUMsQ0FBQztZQUVILE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUN2RSxDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLGtCQUFrQixFQUFFO1lBQzNDLGtCQUFrQixFQUFFLCtCQUErQjtZQUNuRCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxLQUFLLENBQUMsaUJBQWlCLENBQUMsc0JBQXlDO1FBQy9ELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGlCQUFpQixDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFFcEYsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixDQUFDLHVCQUF1QixDQUFDO2dCQUNyRCxZQUFZLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFlBQVk7Z0JBQ2pELFVBQVUsRUFBRSxzQkFBc0IsQ0FBQyxVQUFVO2dCQUM3QyxVQUFVLEVBQUUsc0JBQXNCLENBQUMsVUFBVTthQUM5QyxDQUFDLENBQUM7WUFFSCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsMkJBQTJCLENBQUMsSUFBSSxFQUFFLHNCQUFzQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQy9GLENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsc0JBQXNCLEVBQUU7WUFDL0Msa0JBQWtCLEVBQUUsMENBQTBDO1lBQzlELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLGtCQUFrQixDQUFDLGtCQUFzQztRQUM3RCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFOztZQUNULE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUVqRixJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFL0MsTUFBTSxJQUFJLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLENBQUM7Z0JBQ2pELFVBQVUsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLEtBQUs7Z0JBQ2xELFVBQVUsRUFBRSxNQUFBLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLDBDQUFFLFVBQVU7Z0JBQ3hELFFBQVEsRUFBRSxJQUFJO2dCQUNkLFdBQVcsRUFBRSxvQkFBb0I7YUFDbEMsQ0FBQyxDQUFDO1lBRUgsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3ZFLENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsa0JBQWtCLEVBQUU7WUFDM0Msa0JBQWtCLEVBQUUsK0JBQStCO1lBQ25ELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUNmLFNBQVMsRUFDVCxVQUFVLEVBQ1YsVUFBVSxFQUNWLGtCQUFrQixFQUNsQix1QkFBdUIsRUFDdkIsa0JBQWtCLE1BQ0osRUFBRTtRQUNoQixNQUFNLE1BQU0sR0FBb0I7WUFDOUIsU0FBUztZQUNULFVBQVU7WUFDVixVQUFVO1lBQ1Ysa0JBQWtCO1lBQ2xCLHVCQUF1QjtZQUN2QixrQkFBa0I7U0FDbkIsQ0FBQztRQUVGLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLGFBQWEsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pELENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsU0FBUyxFQUFFO1lBQ2xDLGtCQUFrQixFQUFFLHVCQUF1QjtZQUMzQyxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxVQUFVO1FBQ2QsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTtZQUNULE1BQU0sYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUM1RCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6RCxDQUFDLEVBQ0QsRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLGtCQUFrQixFQUFFLHVCQUF1QixFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FDbkcsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLFdBQVc7UUFDZixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxhQUFhLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzdELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFELENBQUMsRUFDRCxFQUFFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsd0JBQXdCLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUNwRyxDQUFDO0lBQ0osQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxLQUFLLENBQUMsb0JBQW9CLENBQUMsb0JBQTBDO1FBQ25FLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFFckYsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUM1RSxDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLG9CQUFvQixFQUFFO1lBQzdDLGtCQUFrQixFQUFFLGlDQUFpQztZQUNyRCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQywwQkFBMEIsQ0FDOUIsMEJBQXNEO1FBRXRELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDBCQUEwQixDQUFDLDBCQUEwQixDQUFDLENBQUM7WUFFakcsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztRQUNsRixDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLDBCQUEwQixFQUFFO1lBQ25ELGtCQUFrQixFQUFFLGlDQUFpQztZQUNyRCxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxtQkFBd0M7UUFDaEUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4QyxLQUFLLElBQUksRUFBRTtZQUNULE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxhQUFhLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUVuRixJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFFL0MsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzdFLENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsbUJBQW1CLEVBQUU7WUFDNUMsa0JBQWtCLEVBQUUsZ0NBQWdDO1lBQ3BELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLGtCQUFrQixDQUFDLGtCQUFzQztRQUM3RCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRWpGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUNqQyxDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLGtCQUFrQixFQUFFO1lBQzNDLGtCQUFrQixFQUFFLDZDQUE2QztZQUNqRSxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEtBQUssQ0FBQyxrQ0FBa0MsQ0FDdEMsa0NBQXNFO1FBRXRFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGtDQUFrQyxDQUMxRSxrQ0FBa0MsQ0FDbkMsQ0FBQztZQUVGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUUvQyxPQUFPLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNqRCxDQUFDLEVBQ0Q7WUFDRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixtQkFBbUIsRUFBRSxFQUFFLGtDQUFrQyxFQUFFO1lBQzNELGtCQUFrQixFQUFFLGlEQUFpRDtZQUNyRSxZQUFZLEVBQUUsSUFBSTtTQUNuQixDQUNGLENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNILEtBQUssQ0FBQywyQkFBMkIsQ0FDL0IsMkJBQXdEO1FBRXhELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDJCQUEyQixDQUFDLDJCQUEyQixDQUFDLENBQUM7WUFFbkcsSUFBSSxDQUFDLElBQUk7Z0JBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBRS9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLDJCQUEyQixDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQzdFLENBQUMsRUFDRDtZQUNFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQzdCLG1CQUFtQixFQUFFLEVBQUUsMkJBQTJCLEVBQUU7WUFDcEQsa0JBQWtCLEVBQUUsMENBQTBDO1lBQzlELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0gsS0FBSyxDQUFDLG9CQUFvQixDQUFDLEtBQWdDO1FBQ3pELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RFLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDekUsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsaUNBQWlDO1lBQ3JELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLDhCQUE4QixDQUFDLEtBQTBDO1FBQzdFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDhCQUE4QixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDbkYsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsaUNBQWlDO1lBQ3JELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsS0FBSyxDQUFDLDhCQUE4QixDQUFDLEtBQTBDO1FBQzdFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FDeEMsS0FBSyxJQUFJLEVBQUU7WUFDVCxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLDhCQUE4QixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2hGLElBQUksQ0FBQyxJQUFJO2dCQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDbkYsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsaUNBQWlDO1lBQ3JELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxLQUF3QztRQUNuRSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDL0MsT0FBTyxJQUFJLENBQUMsNEJBQTRCLENBQUM7UUFDM0MsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsMENBQTBDO1lBQzlELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCw2QkFBNkIsQ0FBQyxLQUF3QztRQUNwRSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLEtBQUssSUFBSSxFQUFFO1lBQ1QsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5RSxJQUFJLENBQUMsSUFBSTtnQkFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDL0MsT0FBTyxJQUFJLENBQUMsNEJBQTRCLENBQUM7UUFDM0MsQ0FBQyxFQUNEO1lBQ0UsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDN0IsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsMENBQTBDO1lBQzlELFlBQVksRUFBRSxJQUFJO1NBQ25CLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxVQUFrQixFQUFFLFVBQW1CO1FBQzlELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7WUFDdkIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLElBQUksRUFBRSxDQUFDO1NBQ3ZDO1FBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLGlCQUFpQixDQUN4RCxHQUFHLEVBQUU7WUFDSCxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtnQkFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsbUJBQW1CLENBQUM7Z0JBQ2xELFVBQVU7Z0JBQ1YsVUFBVTtnQkFDVixRQUFRLEVBQUUsSUFBSTtnQkFDZCxXQUFXLEVBQUUsb0JBQW9CO2FBQ2xDLENBQUMsQ0FBQztRQUNMLENBQUMsRUFDRDtZQUNFLFVBQVU7WUFDVixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTTtZQUM3QixrQkFBa0IsRUFBRSx3Q0FBd0M7WUFDNUQsWUFBWSxFQUFFLEtBQUs7U0FDcEIsQ0FDRixDQUFDO1FBQ0YsT0FBTyxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQyxDQUFBLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxjQUFjLENBQUEsRUFBRSxDQUFDO0lBQzlELENBQUM7Q0FDRjtBQTM4Q0Qsc0JBMjhDQyJ9